<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>进度条之关闭广告条</title>
	<style>
		*{margin:0;padding: 0;}
		#box{width: 100%;height: 100px;background: green;font-size: 80px;color: red;text-align: center;}
		#q{width: 30px;height: 70px;background: #000;float: right;font-size: 50px;margin: 15px 0px;color: #fff;}
		
		#box1{width: 200px;height: 30px;border: 1px solid black;border-radius: 5px;margin: 200px auto;position: relative;position: fixed;top: 100px;left: 300px;}
		#line{width: 80px;height: 30px;background: pink;border-radius: 5px;float: left;}
		#per{position: absolute;top:0;left:90px;line-height: 30px;}
	</style>
</head>
<body>
	<div id="box">贵州承认学历的学校<span id="q">X</span></div>

	<div id="box1">
		<div id="line"></div>
		<span id="per">0%</span>
	</div>

	<script>
		var a1 =document.getElementById("box");
		var a2 =document.getElementById("q");
		
		a2.onclick =function(){
		var i =confirm("你确定不报名"); //confirm 方法
				if(i){
					for(var i =0;i<5;i++){
						alert("机不可失失不再来")
					}
				}else{
					for(var i =0;i<5;i++){
						alert("仅此一家，仅此一次了")
					}
				}
		}

		var obox =document.getElementById("box1");
		// console.log(obox.offsetHeight);
		var oline =document.getElementById("line");
		var oper =document.getElementById("per");

		var width =0;

		function b(){
			if(width>=obox.offsetWidth-2){//obox.offsetWidth  复合子的宽度
				clearInterval(timer);
				//a1.style.display ="none";
			}else{
				width++;
				oline.style.width = width +"px";
				oper.innerHTML = parseInt(width/(obox.offsetWidth-2)*100) +"%";
			}

		}
		timer = setInterval(function(){b()},5);
		if(timer==5){a1.style.display="none";}

	</script>
	
</body>
</html>